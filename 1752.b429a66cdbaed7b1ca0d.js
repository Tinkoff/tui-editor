(self.webpackChunktui_editor=self.webpackChunktui_editor||[]).push([[1752],{1752:(t,e,n)=>{n.r(e),n.d(e,{ExampleTuiEditorMentionModule:()=>b});var o=n(12057),i=n(24751),r=n(34016),s=n(47029),a=n(43232),l=n(67934),u=n(37195),c=n(74788),d=n(15997),p=n(42328),m=n(97582),g=n(42600),f=n(8820),v=n(22545),h=n(76690),y=n(91283),w=n(31650);function x(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",(function(){const e=c.CHM(t).$implicit;return c.oxw().setMention(e)}))("keydown.enter",(function(){const e=c.CHM(t).$implicit;return c.oxw().setMention(e)})),c._uU(1),c._UZ(2,"tui-avatar",6),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.name," "),c.xp6(1),c.Q6J("avatarUrl",t.avatar)("rounded",!0)("text",t.name)}}class T{constructor(){this.builtInTools=[u._2.Undo,u._2.Size,u._2.Link],this.control=new i.NI('\n        <p><span class="my-mention" data-type="mention">@a.inkin</span> FYI</p>\n    '),this.items=[{name:"Alexander Inkin",avatar:"https://taiga-ui.dev/assets/images/avatar.jpg",login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}]}getFilteredItems(t,e){return(null==e?void 0:e.length)?t.filter((({name:t,login:n})=>n.toLocaleLowerCase().startsWith(e.toLocaleLowerCase())||t.toLocaleLowerCase().startsWith(e.toLocaleLowerCase()))):t}setMention(t){var e,n,o,i;const r=null===(n=null===(e=this.wysiwyg)||void 0===e?void 0:e.editor)||void 0===n?void 0:n.getOriginTiptapEditor();if(!r)return;const s=`<span class="my-mention" data-type="mention">@${t.login}</span>&nbsp;`,a=r.state.selection.to,l=r.state.selection.from-(null!==(i=null===(o=this.wysiwyg)||void 0===o?void 0:o.mentionSuggestions.length)&&void 0!==i?i:0)-1;r.chain().focus().insertContentAt({from:l,to:a},s).run()}}T.ɵfac=function(t){return new(t||T)},T.ɵcmp=c.Xpm({type:T,selectors:[["tui-editor-mention-example-1"]],viewQuery:function(t,e){if(1&t&&c.Gf(u.aI,5),2&t){let t;c.iGM(t=c.CRH())&&(e.wysiwyg=t.first)}},features:[c._Bn([{provide:u.Wf,useValue:[Promise.resolve().then(n.bind(n,25923)).then((({StarterKit:t})=>t)),Promise.resolve().then(n.bind(n,48239)).then((({TuiLink:t})=>t)),Promise.resolve().then(n.bind(n,84402)).then((({default:t})=>t)),Promise.resolve().then(n.bind(n,52807)).then((({TuiMention:t})=>t))]}])],decls:11,vars:5,consts:[[3,"formControl","tools"],["ngProjectAs","mention",5,["mention"]],[3,"mouseleave.capture"],["tuiOption","",3,"click","keydown.enter",4,"ngFor","ngForOf"],[3,"content"],["tuiOption","",3,"click","keydown.enter"],["size","s",3,"avatarUrl","rounded","text"]],template:function(t,e){1&t&&(c.TgZ(0,"tui-editor",0),c.ynx(1,1),c.TgZ(2,"tui-data-list",2),c.NdJ("mouseleave.capture",(function(t){return t.stopPropagation()})),c.YNc(3,x,3,4,"button",3),c.qZA(),c.BQk(),c.qZA(),c.TgZ(4,"h4"),c._uU(5,"HTML:"),c.qZA(),c._UZ(6,"tui-editor-socket",4),c.TgZ(7,"h4"),c._uU(8,"Text:"),c.qZA(),c.TgZ(9,"p"),c._uU(10),c.qZA()),2&t&&(c.Q6J("formControl",e.control)("tools",e.builtInTools),c.xp6(3),c.Q6J("ngForOf",e.getFilteredItems(e.items,null==e.wysiwyg?null:e.wysiwyg.mentionSuggestions)),c.xp6(3),c.Q6J("content",e.control.value||""),c.xp6(4),c.Oqu(e.control.value))},directives:[f.a,i.JJ,i.oH,v.q,o.sg,h.D,y.v,w.J],styles:["[_nghost-%COMP%]     .my-mention{background:var(--tui-autofill);border:1px solid var(--tui-base-08);border-radius:.4rem;padding:.1rem .3rem;cursor:default}"],changeDetection:0}),(0,m.gn)([g.UMq],T.prototype,"getFilteredItems",null);let Z=(()=>{class t{constructor(){this.example1={TypeScript:n.e(9801).then(n.t.bind(n,79801,17)),HTML:n.e(6568).then(n.t.bind(n,26568,17)),LESS:n.e(6205).then(n.t.bind(n,36205,17))}}}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=c.Xpm({type:t,selectors:[["editor-mention"]],decls:3,vars:1,consts:[["header","Editor","type","components"],["id","mention","heading","Mention",3,"content"]],template:function(t,e){1&t&&(c.TgZ(0,"tui-doc-page",0),c.TgZ(1,"tui-doc-example",1),c._UZ(2,"tui-editor-mention-example-1"),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("content",e.example1))},directives:[d.q,p.f,T],encapsulation:2,changeDetection:0}),t})(),b=(()=>{class t{}return t.ɵfac=function(e){return new(e||t)},t.ɵmod=c.oAB({type:t}),t.ɵinj=c.cJS({imports:[[o.ez,s.fV,i.UX,u.T_,u.GK,a.pcV,l.JmR,r.Bz.forChild((0,s.Ve)(Z))]]}),t})()}}]);