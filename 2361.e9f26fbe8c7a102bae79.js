"use strict";(self.webpackChunktui_editor=self.webpackChunktui_editor||[]).push([[2361],{2361:(J,p,o)=>{o.r(p),o.d(p,{ExampleTuiEditorEmbedHtml5Module:()=>I});var g=o(12057),a=o(24751),c=o(34016),y=o(70997),T=o(44427),f=o(221),H=o(54789),h=o(82847),x=o(23917),Z=o(12628),s=o(31414),t=o(74788),v=o(70652),C=o(64762),A=o(91211),U=o(99434),M=o(66749),L=o(44358),P=o(88002),$=o(10215);class l{constructor(i,n){this.isCypress=i,this.sanitizer=n,this.builtInTools=[s._2.Undo,s._2.Link,s._2.Attach],this.control=new a.NI(`\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="${this.isCypress?"none":"auto"}" controlsList="nodownload">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="${this.isCypress?"none":"auto"}" controlsList="nodownload">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            `,a.kI.required)}safe(i){return this.sanitizer.bypassSecurityTrustHtml(i)}attach([i]){var n,d,m,r,u;const E=`${null!==(d=null===(n=i.attrs)||void 0===n?void 0:n.type)&&void 0!==d?d:""}`.split("/")[0];null===(r=null===(m=this.wysiwyg)||void 0===m?void 0:m.editor)||void 0===r||r.getOriginTiptapEditor().commands.insertContent(`<${E} controls width="100%"><source src="${i.link}" type="${null===(u=i.attrs)||void 0===u?void 0:u.type}"></${E}><p><a href="${i.link}" download="${i.name}">Download ${i.name}</a></p>`)}}l.\u0275fac=function(i){return new(i||l)(t.Y36(U.B4),t.Y36(A.H7))},l.\u0275cmp=t.Xpm({type:l,selectors:[["tui-editor-embed-html5-example-1"]],viewQuery:function(i,n){if(1&i&&t.Gf(s.aI,5),2&i){let d;t.iGM(d=t.CRH())&&(n.wysiwyg=d.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(i,n){2&i&&t.ekj("_cypress",n.isCypress)},features:[t._Bn([{provide:s.Wf,deps:[t.zs3],useFactory:e=>[Promise.resolve().then(o.bind(o,66826)).then(({StarterKit:i})=>i),Promise.resolve().then(o.bind(o,84402)).then(({TextStyle:i})=>i),Promise.resolve().then(o.bind(o,50822)).then(({TuiLink:i})=>i),o.e(8629).then(o.bind(o,88629)).then(({TuiJumpAnchor:i})=>i),Promise.resolve().then(o.bind(o,41131)).then(({TuiFileLink:i})=>i),Promise.resolve().then(o.bind(o,12585)).then(({TuiVideo:i})=>i),Promise.resolve().then(o.bind(o,12585)).then(({TuiAudio:i})=>i),Promise.resolve().then(o.bind(o,12585)).then(({TuiSource:i})=>i)]},{provide:s.zc,deps:[],useFactory:()=>([e])=>{const i=new FileReader;return i.readAsDataURL(e),(0,M.mL)(i,"load").pipe((0,P.U)(()=>[{name:e.name,link:String(i.result),attrs:{type:e.type}}]))}},{provide:s.dR,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}])],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(i,n){1&i&&(t.TgZ(0,"tui-editor",0),t.NdJ("fileAttached",function(m){return n.attach(m)}),t.qZA(),t.TgZ(1,"h4"),t._uU(2,"HTML:"),t.qZA(),t._UZ(3,"div",1),t.TgZ(4,"h4"),t._uU(5,"Text:"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()),2&i&&(t.Q6J("formControl",n.control)("tools",n.builtInTools),t.xp6(3),t.Q6J("innerHTML",n.safe(n.control.value),t.oJD),t.xp6(4),t.Oqu(n.control.value))},directives:[$.a,a.JJ,a.oH],styles:["._cypress[_nghost-%COMP%]     video::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     video::-webkit-media-controls-time-remaining-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-time-remaining-display{display:none}"],changeDetection:0}),(0,C.gn)([L.UM],l.prototype,"safe",null);let z=(()=>{class e{constructor(){this.example1={HTML:o.e(2376).then(o.t.bind(o,32376,17)),TypeScript:o.e(7809).then(o.t.bind(o,57809,17))}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["editor-embed-html5"]],features:[t._Bn([{provide:s.Wf,useValue:s.PD}])],decls:11,vars:1,consts:[["header","Editor","package","TUI-EDITOR","type","components"],["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icons/bundled","fragment","sanitizer"],["id","video-audio","heading","Video and audio / html5 native",3,"content"]],template:function(n,d){1&n&&(t.TgZ(0,"tui-doc-page",0),t.TgZ(1,"p"),t._uU(2," Rich Text Editor based on "),t.TgZ(3,"a",1),t._uU(4," TipTap Editor "),t.qZA(),t._uU(5," for using with Angular forms. For safety reasons use a "),t.TgZ(6,"a",2),t._uU(7," sanitizer "),t.qZA(),t._uU(8," with this component. "),t.qZA(),t.TgZ(9,"tui-doc-example",3),t._UZ(10,"tui-editor-embed-html5-example-1"),t.qZA(),t.qZA()),2&n&&(t.xp6(9),t.Q6J("content",d.example1))},directives:[v.qo,h.V,c.yS,v.f2,l],encapsulation:2,changeDetection:0}),e})(),I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,f.A,H.EI,h.j,x.jh,Z.fN,y.fV,a.u5,a.UX,s.T_,s.GK,c.Bz.forChild((0,T.Ve)(z))]]}),e})()}}]);