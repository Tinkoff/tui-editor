(self.webpackChunktui_editor=self.webpackChunktui_editor||[]).push([[5597],{85597:(e,t,i)=>{i.r(t),i.d(t,{ExampleTuiEditorUploadFilesModule:()=>q});var o=i(12057),n=i(24751),r=i(34016),s=i(70997),a=i(44427),l=i(221),d=i(54789),u=i(82847),c=i(23917),p=i(12628),f=i(40719),h=i(57080),m=i(74788),v=i(34978),T=i(35758),g=i(68939);function Z(e){return t=>(e.loading$.next(!0),(0,T.D)(t.map((t=>e.upload(t)))).pipe((0,g.x)((()=>e.loading$.next(!1)))))}var w=i(64762),y=i(26215),_=i(97968),A=i(88002);let b=(()=>{class e{constructor(){this.loading$=new y.X(!1)}upload(e){const t=new FormData;return t.append("file",e,e.name),t.append("expires","1d"),t.append("autoDelete","true"),(0,_.D)(fetch("https://file.io/",{method:"POST",body:t}).then((e=>(0,w.mG)(this,void 0,void 0,(function*(){return e.json()}))))).pipe((0,A.U)((e=>({name:e.name,link:e.link}))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=m.Yz7({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var k=i(10215),x=i(96152);let U=(()=>{class e{constructor(e){this.fileIoService=e,this.builtInTools=[h._2.Undo,h._2.Link,h._2.Attach],this.control=new n.NI("")}attach(e){e.forEach((e=>{var t,i;return null===(i=null===(t=this.wysiwyg)||void 0===t?void 0:t.editor)||void 0===i?void 0:i.setFileLink(e)}))}}return e.ɵfac=function(t){return new(t||e)(m.Y36(b))},e.ɵcmp=m.Xpm({type:e,selectors:[["tui-editor-upload-files-example-1"]],viewQuery:function(e,t){if(1&e&&m.Gf(h.aI,5),2&e){let e;m.iGM(e=m.CRH())&&(t.wysiwyg=e.first)}},features:[m._Bn([{provide:h.Wf,useValue:[Promise.resolve().then(i.bind(i,66826)).then((({StarterKit:e})=>e)),Promise.resolve().then(i.bind(i,84402)).then((({TextStyle:e})=>e)),Promise.resolve().then(i.bind(i,50822)).then((({TuiLink:e})=>e)),i.e(8629).then(i.bind(i,88629)).then((({TuiJumpAnchor:e})=>e)),Promise.resolve().then(i.bind(i,41131)).then((({TuiFileLink:e})=>e))]},{provide:h.zc,deps:[b],useFactory:Z}])],decls:10,vars:7,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"content"]],template:function(e,t){1&e&&(m.TgZ(0,"tui-loader",0),m.ALo(1,"async"),m.TgZ(2,"tui-editor",1),m.NdJ("fileAttached",(function(e){return t.attach(e)})),m.qZA(),m.qZA(),m.TgZ(3,"h4"),m._uU(4,"HTML:"),m.qZA(),m._UZ(5,"tui-editor-socket",2),m.TgZ(6,"h4"),m._uU(7,"Text:"),m.qZA(),m.TgZ(8,"p"),m._uU(9),m.qZA()),2&e&&(m.Q6J("showLoader",!!m.lcZ(1,5,t.fileIoService.loading$)),m.xp6(2),m.Q6J("formControl",t.control)("tools",t.builtInTools),m.xp6(3),m.Q6J("content",t.control.value||""),m.xp6(4),m.Oqu(t.control.value))},directives:[f.kM,k.a,n.JJ,n.oH,x.D],pipes:[o.Ov],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-height:10rem}"],changeDetection:0}),e})(),L=(()=>{class e{constructor(){this.example1={TypeScript:i.e(5381).then(i.t.bind(i,95381,17)),HTML:i.e(5033).then(i.t.bind(i,25033,17)),LESS:i.e(2237).then(i.t.bind(i,62237,17)),"./filesio.service.ts":i.e(32).then(i.t.bind(i,70032,17)),"./file-loader.ts":i.e(4579).then(i.t.bind(i,94579,17))}}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["editor-upload-files"]],features:[m._Bn([{provide:h.Wf,useValue:h.PD}])],decls:11,vars:1,consts:[["header","Editor","type","components"],["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icons/bundled","fragment","sanitizer"],["id","upload-file","heading","Upload files","description","100 uploads per day, 2GB file size limit, files auto-deleted after 1 download",3,"content"]],template:function(e,t){1&e&&(m.TgZ(0,"tui-doc-page",0),m.TgZ(1,"p"),m._uU(2," Rich Text Editor based on "),m.TgZ(3,"a",1),m._uU(4," TipTap Editor "),m.qZA(),m._uU(5," for using with Angular forms. For safety reasons use a "),m.TgZ(6,"a",2),m._uU(7," sanitizer "),m.qZA(),m._uU(8," with this component. "),m.qZA(),m.TgZ(9,"tui-doc-example",3),m._UZ(10,"tui-editor-upload-files-example-1"),m.qZA(),m.qZA()),2&e&&(m.xp6(9),m.Q6J("content",t.example1))},directives:[v.qo,u.V,r.yS,v.f2,U],encapsulation:2,changeDetection:0}),e})(),q=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=m.oAB({type:e}),e.ɵinj=m.cJS({imports:[[o.ez,l.A,d.EI,u.j,c.jh,p.fN,s.fV,n.u5,n.UX,h.T_,f.dS,h.GK,r.Bz.forChild((0,a.Ve)(L))]]}),e})()}}]);