(self.webpackChunktui_editor=self.webpackChunktui_editor||[]).push([[965],{60965:(e,t,i)=>{i.r(t),i.d(t,{ExampleTuiEditorUploadFilesModule:()=>U});var o=i(12057),n=i(24751),r=i(34016),s=i(18424),a=i(42600),l=i(43232),d=i(37195),u=i(74788),c=i(15997),p=i(73460),h=i(42328),f=i(35758),m=i(68939);function v(e){return t=>(e.loading$.next(!0),(0,f.D)(t.map((t=>e.upload(t)))).pipe((0,m.x)((()=>e.loading$.next(!1)))))}var T=i(97582),g=i(26215),Z=i(97968),w=i(88002);let y=(()=>{class e{constructor(){this.loading$=new g.X(!1)}upload(e){const t=new FormData;return t.append("file",e,e.name),t.append("expires","1d"),t.append("autoDelete","true"),(0,Z.D)(fetch("https://file.io/",{method:"POST",body:t}).then((e=>(0,T.mG)(this,void 0,void 0,(function*(){return e.json()}))))).pipe((0,w.U)((e=>({name:e.name,link:e.link}))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=u.Yz7({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var _=i(57634),A=i(8820),b=i(76690);let k=(()=>{class e{constructor(e){this.fileIoService=e,this.builtInTools=[d._2.Undo,d._2.Link,d._2.Attach],this.control=new n.NI("")}attach(e){e.forEach((e=>{var t,i;return null===(i=null===(t=this.wysiwyg)||void 0===t?void 0:t.editor)||void 0===i?void 0:i.setFileLink(e)}))}}return e.ɵfac=function(t){return new(t||e)(u.Y36(y))},e.ɵcmp=u.Xpm({type:e,selectors:[["tui-editor-upload-files-example-1"]],viewQuery:function(e,t){if(1&e&&u.Gf(d.aI,5),2&e){let e;u.iGM(e=u.CRH())&&(t.wysiwyg=e.first)}},features:[u._Bn([{provide:d.Wf,useValue:[Promise.resolve().then(i.bind(i,93107)).then((({StarterKit:e})=>e)),Promise.resolve().then(i.bind(i,84402)).then((({TextStyle:e})=>e)),Promise.resolve().then(i.bind(i,48239)).then((({TuiLink:e})=>e)),i.e(6633).then(i.bind(i,96633)).then((({TuiJumpAnchor:e})=>e)),Promise.resolve().then(i.bind(i,58101)).then((({TuiFileLink:e})=>e))]},{provide:d.zc,deps:[y],useFactory:v}])],decls:10,vars:7,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"content"]],template:function(e,t){1&e&&(u.TgZ(0,"tui-loader",0),u.ALo(1,"async"),u.TgZ(2,"tui-editor",1),u.NdJ("fileAttached",(function(e){return t.attach(e)})),u.qZA(),u.qZA(),u.TgZ(3,"h4"),u._uU(4,"HTML:"),u.qZA(),u._UZ(5,"tui-editor-socket",2),u.TgZ(6,"h4"),u._uU(7,"Text:"),u.qZA(),u.TgZ(8,"p"),u._uU(9),u.qZA()),2&e&&(u.Q6J("showLoader",!!u.lcZ(1,5,t.fileIoService.loading$)),u.xp6(2),u.Q6J("formControl",t.control)("tools",t.builtInTools),u.xp6(3),u.Q6J("content",t.control.value||""),u.xp6(4),u.Oqu(t.control.value))},directives:[_.k,A.a,n.JJ,n.oH,b.D],pipes:[o.Ov],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-height:10rem}"],changeDetection:0}),e})(),x=(()=>{class e{constructor(){this.example1={TypeScript:i.e(4401).then(i.t.bind(i,44401,17)),HTML:i.e(5468).then(i.t.bind(i,35468,17)),LESS:i.e(1628).then(i.t.bind(i,41628,17)),"./filesio.service.ts":i.e(4254).then(i.t.bind(i,24254,17)),"./file-loader.ts":i.e(1374).then(i.t.bind(i,1374,17))}}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=u.Xpm({type:e,selectors:[["editor-upload-files"]],features:[u._Bn([{provide:d.Wf,useValue:d.PD}])],decls:11,vars:1,consts:[["header","Editor","type","components"],["href","https://www.tiptap.dev/","tuiLink",""],["fragment","sanitizer","routerLink","/icons/bundled","tuiLink",""],["id","upload-file","description","100 uploads per day, 2GB file size limit, files auto-deleted after 1 download","heading","Upload files",3,"content"]],template:function(e,t){1&e&&(u.TgZ(0,"tui-doc-page",0),u.TgZ(1,"p"),u._uU(2," Rich Text Editor based on "),u.TgZ(3,"a",1),u._uU(4," TipTap Editor "),u.qZA(),u._uU(5," for using with Angular forms. For safety reasons use a "),u.TgZ(6,"a",2),u._uU(7," sanitizer "),u.qZA(),u._uU(8," with this component. "),u.qZA(),u.TgZ(9,"tui-doc-example",3),u._UZ(10,"tui-editor-upload-files-example-1"),u.qZA(),u.qZA()),2&e&&(u.xp6(9),u.Q6J("content",t.example1))},directives:[c.q,p.V,r.yS,h.f,k],encapsulation:2,changeDetection:0}),e})(),U=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=u.oAB({type:e}),e.ɵinj=u.cJS({imports:[[o.ez,a.Ah6,l.EIu,l.jzK,l.jhF,l.fNO,s.fV,n.u5,n.UX,d.T_,l.dSp,d.GK,r.Bz.forChild((0,s.Ve)(x))]]}),e})()}}]);