"use strict";(self.webpackChunktui_editor=self.webpackChunktui_editor||[]).push([[5597],{85597:(B,m,o)=>{o.r(m),o.d(m,{ExampleTuiEditorUploadFilesModule:()=>O});var f=o(12057),a=o(24751),p=o(34016),g=o(70997),E=o(44427),U=o(221),x=o(54789),h=o(82847),F=o(23917),y=o(12628),c=o(40719),s=o(31414),t=o(74788),v=o(98267),Z=o(35758),A=o(68939);function D(i){return e=>(i.loading$.next(!0),(0,Z.D)(e.map(n=>i.upload(n))).pipe((0,A.x)(()=>i.loading$.next(!1))))}var I=o(64762),S=o(26215),L=o(97968),C=o(88002);let T=(()=>{class i{constructor(){this.loading$=new S.X(!1)}upload(n){const l=new FormData;return l.append("file",n,n.name),l.append("expires","1d"),l.append("autoDelete","true"),(0,L.D)(fetch("https://file.io/",{method:"POST",body:l}).then(d=>(0,I.mG)(this,void 0,void 0,function*(){return d.json()}))).pipe((0,C.U)(d=>({name:d.name,link:d.link})))}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var M=o(10215),z=o(96152);let J=(()=>{class i{constructor(n){this.fileIoService=n,this.builtInTools=[s._2.Undo,s._2.Link,s._2.Attach],this.control=new a.NI("")}attach(n){n.forEach(l=>{var d,r;return null===(r=null===(d=this.wysiwyg)||void 0===d?void 0:d.editor)||void 0===r?void 0:r.setFileLink(l)})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["tui-editor-upload-files-example-1"]],viewQuery:function(n,l){if(1&n&&t.Gf(s.aI,5),2&n){let d;t.iGM(d=t.CRH())&&(l.wysiwyg=d.first)}},features:[t._Bn([{provide:s.Wf,useValue:[Promise.resolve().then(o.bind(o,66826)).then(({StarterKit:e})=>e),Promise.resolve().then(o.bind(o,84402)).then(({TextStyle:e})=>e),Promise.resolve().then(o.bind(o,50822)).then(({TuiLink:e})=>e),o.e(8629).then(o.bind(o,88629)).then(({TuiJumpAnchor:e})=>e),Promise.resolve().then(o.bind(o,41131)).then(({TuiFileLink:e})=>e)]},{provide:s.zc,deps:[T],useFactory:D}])],decls:10,vars:7,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"content"]],template:function(n,l){1&n&&(t.TgZ(0,"tui-loader",0),t.ALo(1,"async"),t.TgZ(2,"tui-editor",1),t.NdJ("fileAttached",function(r){return l.attach(r)}),t.qZA(),t.qZA(),t.TgZ(3,"h4"),t._uU(4,"HTML:"),t.qZA(),t._UZ(5,"tui-editor-socket",2),t.TgZ(6,"h4"),t._uU(7,"Text:"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()),2&n&&(t.Q6J("showLoader",!!t.lcZ(1,5,l.fileIoService.loading$)),t.xp6(2),t.Q6J("formControl",l.control)("tools",l.builtInTools),t.xp6(3),t.Q6J("content",l.control.value||""),t.xp6(4),t.Oqu(l.control.value))},directives:[c.kM,M.a,a.JJ,a.oH,z.D],pipes:[f.Ov],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-height:10rem}"],changeDetection:0}),i})(),P=(()=>{class i{constructor(){this.example1={TypeScript:o.e(5381).then(o.t.bind(o,95381,17)),HTML:o.e(5033).then(o.t.bind(o,25033,17)),LESS:o.e(2237).then(o.t.bind(o,62237,17)),"./filesio.service.ts":o.e(32).then(o.t.bind(o,70032,17)),"./file-loader.ts":o.e(4579).then(o.t.bind(o,94579,17))}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["editor-upload-files"]],features:[t._Bn([{provide:s.Wf,useValue:s.PD}])],decls:11,vars:1,consts:[["header","Editor","package","ADDON-EDITOR","type","components"],["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icons/bundled","fragment","sanitizer"],["id","upload-file","heading","Upload files","description","100 uploads per day, 2GB file size limit, files auto-deleted after 1 download",3,"content"]],template:function(n,l){1&n&&(t.TgZ(0,"tui-doc-page",0),t.TgZ(1,"p"),t._uU(2," Rich Text Editor based on "),t.TgZ(3,"a",1),t._uU(4," TipTap Editor "),t.qZA(),t._uU(5," for using with Angular forms. For safety reasons use a "),t.TgZ(6,"a",2),t._uU(7," sanitizer "),t.qZA(),t._uU(8," with this component. "),t.qZA(),t.TgZ(9,"tui-doc-example",3),t._UZ(10,"tui-editor-upload-files-example-1"),t.qZA(),t.qZA()),2&n&&(t.xp6(9),t.Q6J("content",l.example1))},directives:[v.qo,h.V,p.yS,v.f2,J],encapsulation:2,changeDetection:0}),i})(),O=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.ez,U.A,x.EI,h.j,F.jh,y.fN,g.fV,a.u5,a.UX,s.T_,c.dS,s.GK,p.Bz.forChild((0,E.Ve)(P))]]}),i})()}}]);