<tui-hosted-dropdown
    #color
    [content]="colorDropdown"
    [tuiDropdownMaxHeight]="999"
>
    <button
        appearance="icon"
        automation-id="toolbar__color-button"
        size="s"
        tuiIconButton
        type="button"
        [focusable]="color.open"
        [icon]="icon"
    ></button>
    <div
        class="t-plate"
        [style.background]="fontColor$ | async"
    ></div>
    <ng-template
        #colorDropdown
        let-activeZone
    >
        <tui-color-selector
            [color]="selectedColor"
            [colors]="colors"
            [tuiActiveZoneParent]="activeZone"
            (colorChange)="onValueChange($event)"
        ></tui-color-selector>

        <button
            appearance="flat"
            size="m"
            tuiButton
            type="button"
            class="t-color-save"
            (click)="setColor()"
        >
            Use color
        </button>
    </ng-template>
</tui-hosted-dropdown>
