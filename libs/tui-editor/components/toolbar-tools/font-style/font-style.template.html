<!-- @bad TODO: Keyboard navigation-->
<ng-container *ngIf="texts$ | async as texts">
    <tui-hosted-dropdown
        *ngIf="fontStyleState$ | async as state"
        #format
        [content]="formatDropdown"
    >
        <button
            appearance="icon"
            automation-id="toolbar__font-style-button"
            size="s"
            tuiHintDescribe
            tuiHintDirection="top-left"
            tuiIconButton
            type="button"
            [focusable]="format.open"
            [icon]="options.icons.fontStylePreview"
            [pseudoActive]="format.open || state.bold || state.italic || state.underline || state.strike"
            [tuiHint]="texts.fontStyle"
        ></button>
        <ng-template #formatDropdown>
            <div class="t-dropdown">
                <button
                    *ngIf="isEnabled(TuiEditorTool.Bold)"
                    appearance="icon"
                    size="s"
                    tuiIconButton
                    type="button"
                    class="t-option t-option_margin"
                    [icon]="options.icons.fontStyleBold"
                    [pseudoActive]="state.bold"
                    [tuiHint]="texts.bold"
                    (click)="editor.toggleBold()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Italic)"
                    appearance="icon"
                    size="s"
                    tuiIconButton
                    type="button"
                    class="t-option t-option_margin"
                    [icon]="options.icons.fontStyleItalic"
                    [pseudoActive]="state.italic"
                    [tuiHint]="texts.italic"
                    (click)="editor.toggleItalic()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Underline)"
                    appearance="icon"
                    size="s"
                    tuiIconButton
                    type="button"
                    class="t-option t-option_margin"
                    [icon]="options.icons.fontStyleUnderline"
                    [pseudoActive]="state.underline"
                    [tuiHint]="texts.underline"
                    (click)="editor.toggleUnderline()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Strikethrough)"
                    appearance="icon"
                    size="s"
                    tuiIconButton
                    type="button"
                    class="t-option t-option_margin"
                    [icon]="options.icons.fontStyleStrike"
                    [pseudoActive]="state.strike"
                    [tuiHint]="texts.strikeThrough"
                    (click)="editor.toggleStrike()"
                ></button>
            </div>
        </ng-template>
    </tui-hosted-dropdown>
</ng-container>
