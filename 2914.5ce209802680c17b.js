(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[2914],{62914:(e,t,n)=>{n.r(t),n.d(t,{StackblitzStarterModule:()=>V});var i=n(15472),r=n(74163),o=n(8239),s=n(4966);const a="https://stackblitz.com",l=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],c=["project","search","ports","settings"],p=["light","dark"],u=["editor","preview"],d={clickToLoad:e=>m("ctl",e),devToolsHeight:e=>g("devtoolsheight",e),forceEmbedLayout:e=>m("embed",e),hideDevTools:e=>m("hidedevtools",e),hideExplorer:e=>m("hideExplorer",e),hideNavigation:e=>m("hideNavigation",e),openFile:e=>f("file",e),showSidebar:e=>function(e,t){return"boolean"==typeof t?"showSidebar="+(t?"1":"0"):""}(0,e),sidebarView:e=>h("sidebarView",e,c),startScript:e=>f("startScript",e),terminalHeight:e=>g("terminalHeight",e),theme:e=>h("theme",e,p),view:e=>h("view",e,u),zenMode:e=>m("zenMode",e)};function m(e,t){return!0===t?`${e}=1`:""}function g(e,t){if("number"==typeof t&&!Number.isNaN(t)){const n=Math.min(100,Math.max(0,t));return`${e}=${encodeURIComponent(Math.round(n))}`}return""}function h(e,t="",n=[]){return n.includes(t)?`${e}=${encodeURIComponent(t)}`:""}function f(e,t){return(Array.isArray(t)?t:[t]).filter((e=>"string"==typeof e&&""!==e.trim())).map((t=>`${e}=${encodeURIComponent(t)}`)).join("&")}function b(e,t){return`${function(e={}){return("string"==typeof e.origin?e.origin:a).replace(/\/$/,"")}(t)}${e}${function(e={}){const t=Object.entries(e).map((([e,t])=>null!=t&&d.hasOwnProperty(e)?d[e](t):"")).filter(Boolean);return t.length?`?${t.join("&")}`:""}(t)}`}const w=function(e,t){!function(e,t){const n=function({template:e,title:t,description:n,dependencies:i,files:r,settings:o}){if(!l.includes(e)){const e=l.map((e=>`'${e}'`)).join(", ");console.warn(`Unsupported project.template: must be one of ${e}`)}const s=[],a=(e,t,n="")=>{s.push(function(e,t){const n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}(e,"string"==typeof t?t:n))};a("project[title]",t),"string"==typeof n&&n.length>0&&a("project[description]",n),a("project[template]",e,"javascript"),i&&("node"===e?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):a("project[dependencies]",JSON.stringify(i))),o&&a("project[settings]",JSON.stringify(o)),Object.entries(r).forEach((([e,t])=>{a(`project[files][${function(e){return e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(e)}]`,t)}));const c=document.createElement("form");return c.method="POST",c.setAttribute("style","display:none!important;"),c.append(...s),c}(e);n.action=b("/run",t),n.target=function(e){return e&&!1===e.newWindow?"_self":"_blank"}(t),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}(e,t)};var y=n(89570),v=n(22578);class j{get className(){const[,e]=this.rawFileContent.match(/(?:export class\s)(\w*)/i)||[];return e||""}set className(e){this.rawFileContent=this.rawFileContent.replace(/(export class\s)(\w*)/i,`$1${e}`)}get hasNgModule(){return this.rawFileContent.includes("@NgModule")}get hasNgComponent(){return this.rawFileContent.includes("@Component")}constructor(e){if(this.rawFileContent=e,(e.match(/export class/gi)||[]).length>1)throw new v.pbU;this.replaceMetaAssets()}addImport(e,t){const n=t.replace(".ts","");this.rawFileContent=this.rawFileContent.includes(n)?this.addIntoExistingImport(e,n):`import {${e}} from '${n}';\n${this.rawFileContent};`}toString(){return this.rawFileContent}addIntoExistingImport(e,t){const n=new RegExp(`(?:import\\s?\\{\\r?\\n?)(?:(?:.*),\\r?\\n?)*?(?:.*?)\\r?\\n?} from (?:'|")${t}(?:'|");`,"gm");return this.rawFileContent.replace(n,(t=>t.includes(e)?t:t.replace("{",`{${e}, `)))}replaceMetaAssets(){this.rawFileContent=this.rawFileContent.replace("import {assets} from '@demo/utils';\n",""),this.rawFileContent=this.rawFileContent.replace("assets`","`https://taiga-ui.dev/assets")}}class C extends j{set selector(e){this.rawFileContent=this.rawFileContent.replace(/(selector:\s['"`])(.*)(['"`])/gi,`$1${e}$3`)}set templateUrl(e){this.rawFileContent=this.rawFileContent.replace(/(templateUrl:\s['"`])(.*)(['"`])/gi,`$1${e}$3`)}set styleUrls(e){this.rawFileContent=this.rawFileContent.replace(/(styleUrls:\s)(\[.*\])/gi,`$1${JSON.stringify(e)}`)}}class $ extends j{addDeclaration(e){this.rawFileContent=this.rawFileContent.replace("declarations: [",`declarations: [${e}, `)}addModuleImport(e){this.rawFileContent=this.rawFileContent.replace("imports: [",`imports: [\n${e}, `)}hasDeclarationEntity(e){const[,t=""]=this.rawFileContent.match(/(?:declarations:\s\[)(.*)(?:\])/i)||[];return t.includes(e)}}var k=n(64537);let F=(()=>{class e{get(){return(0,o.Z)((function*(){const{dependencies:e}=yield n.e(7091).then(n.t.bind(n,77091,19)),{dependencies:t}=yield n.e(7311).then(n.t.bind(n,57311,19)),{dependencies:i,devDependencies:r}=yield n.e(6881).then(n.t.bind(n,66881,19));return{"@angular/cdk":i["@angular/cdk"],"@angular/core":i["@angular/core"],"@angular/common":i["@angular/common"],"@angular/compiler":i["@angular/compiler"],"@angular/forms":i["@angular/forms"],"@angular/localize":i["@angular/localize"],"@angular/platform-browser":i["@angular/platform-browser"],"@angular/platform-browser-dynamic":i["@angular/platform-browser-dynamic"],"@angular/animations":i["@angular/animations"],"@angular/router":i["@angular/router"],"@taiga-ui/cdk":v.Mle,"@taiga-ui/i18n":v.Mle,"@taiga-ui/core":v.Mle,"@taiga-ui/kit":v.Mle,"@taiga-ui/icons":v.Mle,"@taiga-ui/styles":v.Mle,"@ng-web-apis/common":t["@ng-web-apis/common"],"@ng-web-apis/resize-observer":t["@ng-web-apis/resize-observer"],"@ng-web-apis/mutation-observer":t["@ng-web-apis/mutation-observer"],"zone.js":i["zone.js"],dompurify:e.dompurify,typescript:r.typescript,rxjs:i.rxjs,"@tinkoff/tui-editor":"1.x.x","@tinkoff/ng-polymorpheus":t["@tinkoff/ng-polymorpheus"],"@tinkoff/ng-dompurify":e["@tinkoff/ng-dompurify"],"@tinkoff/ng-event-plugins":t["@tinkoff/ng-event-plugins"]}}))()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=k.Yz7({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class S{static getProjectFiles(){return(0,o.Z)((function*(){const[e,t,i,r,o,a]=yield Promise.all([n.e(3243).then(n.t.bind(n,63243,17)),n.e(9638).then(n.t.bind(n,89638,17)),n.e(2180).then(n.t.bind(n,92180,17)),n.e(2609).then(n.t.bind(n,2609,17)),n.e(740).then(n.t.bind(n,740,17)),n.e(4334).then(n.t.bind(n,4334,17))].map(s.JQ)),[l,c]=(0,s.vi)(e),[p]=(0,s.vi)(t),[u]=(0,s.vi)(i),[d]=(0,s.vi)(r),[m]=(0,s.vi)(o),[g]=(0,s.vi)(a);return{angularJson:l,tsconfig:c,mainTs:p,indexHtml:u,polyfills:d,appModuleTs:g,styles:m}}))()}}var z=n(18289);let x,M=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=k.Xpm({type:e,selectors:[["stackblitz-edit-button"]],decls:2,vars:0,consts:[["appearance","flat","icon","assets/icons/stackblitz.svg","size","s","tuiButton","","type","button"]],template:function(e,t){1&e&&(k.TgZ(0,"button",0),k._uU(1," Edit "),k.qZA())},dependencies:[z.v],encapsulation:2,changeDetection:0}),e})(),N=e=>e;function O(e){return e===s.N0.TS||e.endsWith(".ts")}const E=e=>e.replace(/@import.+taiga-ui-local(.less)?';/g,"@import '@taiga-ui/core/styles/taiga-ui-local.less';"),T=(e,t="")=>`src/app/${e.join("")}${t}`;let I,U,A,P,Z,D=e=>e;const B=["./app.component.less"];let J=(()=>{class e{constructor(e){this.deps=e,this.name="Stackblitz",this.content=new y.Al(M)}edit(e,t,n){var i=this;return(0,o.Z)((function*(){if(!n.HTML||!n.TypeScript)return;const{appModuleTs:r}=yield S.getProjectFiles(),o=new $(r),a=new C(n.TypeScript),l=(p=n,Object.entries(p).filter((([e,t])=>t&&!function(e){return Object.values(s.N0).includes(e)}(e)))),c=l.filter((([e,t])=>O(e)&&new j(t).hasNgModule)).map((([e,t])=>[e,new $(t)]));var p;const u=(e=>e.filter((([e,t])=>O(e)&&new j(t).hasNgComponent)).map((([e,t])=>[e,new C(t).className])))(l),d=(e=>{const t={};return e.forEach((([e,n])=>{const i=T(x||(x=N`${0}`),e);t[i]=function(e){return e===s.N0.LESS||`${e}`.endsWith(".less")}(e)?E(n):n})),t})(l);return u.forEach((([e,t])=>{c.some((([e,n])=>n.hasDeclarationEntity(t)))||(o.addImport(t,`./${e}`),o.addDeclaration(t))})),a.selector="my-app",a.templateUrl="./app.component.html",a.styleUrls=B,a.className="AppComponent",w(Object.assign(Object.assign({},yield i.getStackblitzProjectConfig()),{title:`${e}-${t}`,description:"TUI Editor example",files:Object.assign(Object.assign(Object.assign({},yield i.getBaseAngularProjectFiles()),d),{[T(I||(I=D`app.module.ts`))]:o.toString(),[T(U||(U=D`app.component.ts`))]:a.toString(),[T(A||(A=D`app.component.html`))]:`<tui-root>\n\n${n.HTML}\n</tui-root>`,[T(P||(P=D`app.component.less`))]:E(n.LESS||"")})}))}))()}openStarter({title:e,description:t,files:n},i){var r=this;return(0,o.Z)((function*(){return w(Object.assign(Object.assign({},yield r.getStackblitzProjectConfig()),{title:e,description:t,files:Object.assign(Object.assign({},yield r.getBaseAngularProjectFiles()),n)}),i)}))()}getBaseAngularProjectFiles(){return(0,o.Z)((function*(){const{tsconfig:e,angularJson:t,mainTs:n,polyfills:i,indexHtml:r,styles:o,appModuleTs:s}=yield S.getProjectFiles();return{"tsconfig.json":e,"angular.json":t,"src/main.ts":n,"src/polyfills.ts":i,"src/index.html":r,"src/styles.less":o,[T(Z||(Z=D`app.module.ts`))]:s.toString()}}))()}getStackblitzProjectConfig(){var e=this;return(0,o.Z)((function*(){return{template:"angular-cli",dependencies:yield e.deps.get(),tags:["Angular","Taiga UI","Angular components","UI Kit"]}}))()}}return e.ɵfac=function(t){return new(t||e)(k.LFG(F))},e.ɵprov=k.Yz7({token:e,factory:e.ɵfac}),e})();var _=n(57634);let H,L,R,W,Q=e=>e,Y=(()=>{class e{constructor(e){this.stackblitz=e}ngOnInit(){var e=this;return(0,o.Z)((function*(){yield e.openStackblitz()}))()}openStackblitz(){var e=this;return(0,o.Z)((function*(){const[t,i,r,o]=yield Promise.all([n.e(7145).then(n.t.bind(n,7145,17)),n.e(7976).then(n.t.bind(n,7976,17)),n.e(5776).then(n.t.bind(n,45776,17)),n.e(52).then(n.t.bind(n,10052,17))].map(s.JQ)).then((e=>e.map((e=>(0,s.vi)(e)[0]))));return e.stackblitz.openStarter({title:"TUI Editor Starter",description:"A starter for TUI Editor\nDocumentation: https://taiga-family.github.io/tui-editor",files:{"src/index.html":r,"src/styles.less":o,[T(H||(H=Q`app.component.html`))]:t,[T(L||(L=Q`app.component.ts`))]:i,[T(R||(R=Q`app.component.less`))]:"@import '@taiga-ui/core/styles/taiga-ui-local.less';"}},{newWindow:!1,openFile:T(W||(W=Q`app.component.html`)),hideExplorer:!0})}))()}}return e.ɵfac=function(t){return new(t||e)(k.Y36(J))},e.ɵcmp=k.Xpm({type:e,selectors:[["demo-stackblitz-starter"]],features:[k._Bn([J])],decls:1,vars:1,consts:[["size","xxl","textContent","Stackblitz loading...",1,"loader",3,"overlay"]],template:function(e,t){1&e&&k._UZ(0,"tui-loader",0),2&e&&k.Q6J("overlay",!0)},dependencies:[_.k],styles:[".loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--tui-base-01);z-index:1}"],changeDetection:0}),e})(),V=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=k.oAB({type:e}),e.ɵinj=k.cJS({imports:[r.dSp,r.fNO,i.Bz.forChild([{path:"",component:Y}])]}),e})()}}]);