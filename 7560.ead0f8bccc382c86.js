(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[7560],{77560:(e,t,n)=>{n.r(t),n.d(t,{ExampleAngularContenteditableAccessorModule:()=>h});var o=n(20092),l=n(15472),r=n(4966),i=n(64537);let s=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=i.oAB({type:e}),e.ɵinj=i.cJS({}),e})();var a=n(5998);let u=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.sanitizer=n,this.observer=new MutationObserver((()=>{setTimeout((()=>{this.onChange(this.processValue(this.elementRef.nativeElement.innerHTML))}))})),this.onTouched=()=>{},this.onChange=()=>{}}onInput(){this.observer.disconnect(),this.onChange(this.processValue(this.elementRef.nativeElement.innerHTML))}onBlur(){this.onTouched()}ngAfterViewInit(){this.observer.observe(this.elementRef.nativeElement,{characterData:!0,childList:!0,subtree:!0})}ngOnDestroy(){this.observer.disconnect()}writeValue(e){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.processValue(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.renderer.setAttribute(this.elementRef.nativeElement,"contenteditable",String(!e))}processValue(e){var t;const n=String(null==e?"":e);return null!==(t=this.sanitizer.sanitize(i.q3G.HTML,"<br>"===n.trim()?"":n))&&void 0!==t?t:""}}return e.ɵfac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(a.H7))},e.ɵdir=i.lG2({type:e,selectors:[["","contenteditable","","formControlName",""],["","contenteditable","","formControl",""],["","contenteditable","","ngModel",""]],hostBindings:function(e,t){1&e&&i.NdJ("input",(function(){return t.onInput()}))("blur",(function(){return t.onBlur()}))},features:[i._Bn([{provide:o.JU,useExisting:(0,i.Gpc)((()=>e)),multi:!0}])]}),e})();var d=n(52442);const c="<b>HTML</b><p>with a paragraph</p><div>a div</div>and a plain text node";let g=(()=>{class e{constructor(){this.model="Initial value",this.disabled=!0,this.control=new o.NI("Initial value",{updateOn:"blur"}),this.group=new o.cw({control:new o.NI("Initial value")}),this.group.disable()}onToggleModelDisabled(){this.disabled=!this.disabled}onModelSetValue(){this.model=c}onToggleControlDisabled(){this.control.disabled?this.control.enable():this.control.disable()}onControlSetValue(){this.control.setValue(c)}onToggleNameDisabled(){this.group.disabled?this.group.enable():this.group.disable()}onNameSetValue(){this.group.patchValue({control:c})}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=i.Xpm({type:e,selectors:[["angular-contenteditable-accessor"]],decls:83,vars:7,consts:[["header","Editor","type","components"],[3,"click"],["contenteditable","",3,"disabled","ngModel","ngModelChange"],[3,"textContent"],["contenteditable","",3,"formControl"],[3,"formGroup"],["contenteditable","","formControlName","control"]],template:function(e,t){1&e&&(i.TgZ(0,"tui-doc-page",0)(1,"h2"),i._uU(2,"This is a demo for ContenteditableValueAccessor"),i.qZA(),i.TgZ(3,"p"),i._uU(4," This accessor allows you to use Angular forms with contenteditable elements with ease. It has zero dependencies, other than Angular itself as peer and works with Angular 4+ in all modern browsers, including "),i.TgZ(5,"strong"),i._uU(6,"Internet Explorer 11"),i.qZA(),i._uU(7," . "),i.qZA(),i.TgZ(8,"h3"),i._uU(9,"Setup"),i.qZA(),i.TgZ(10,"p"),i._uU(11," Simply import "),i.TgZ(12,"code"),i._uU(13,"ContenteditableValueAccessorModule"),i.qZA(),i._uU(14," along with either Angular's form modules and use like that: "),i.qZA(),i.TgZ(15,"pre"),i._uU(16,"  "),i.TgZ(17,"code"),i._uU(18,'\n    <div [(ngModel)]="model" contenteditable></div>\n  '),i.qZA(),i._uU(19,"\n"),i.qZA(),i.TgZ(20,"pre"),i._uU(21,"  "),i.TgZ(22,"code"),i._uU(23,'\n    <div [formControl]="control" contenteditable></div>\n  '),i.qZA(),i._uU(24,"\n"),i.qZA(),i.TgZ(25,"pre"),i._uU(26,"  "),i.TgZ(27,"code"),i._uU(28,'\n    <form [formGroup]="group">\n      <div formControlName="control" contenteditable></div>\n    </form>\n  '),i.qZA(),i._uU(29,"\n"),i.qZA(),i.TgZ(30,"h3"),i._uU(31,"Examples"),i.qZA(),i.TgZ(32,"h4"),i._uU(33," ngModel "),i.TgZ(34,"button",1),i.NdJ("click",(function(){return t.onToggleModelDisabled()})),i._uU(35,"Toggle disabled"),i.qZA(),i.TgZ(36,"button",1),i.NdJ("click",(function(){return t.onModelSetValue()})),i._uU(37,"Set value"),i.qZA()(),i.TgZ(38,"p")(39,"i"),i._uU(40," Tip: You can apply disabled styles by "),i.TgZ(41,"code"),i._uU(42,'[contenteditable="false"]'),i.qZA(),i._uU(43," CSS selector "),i.qZA()(),i.TgZ(44,"label"),i._uU(45,"Write here:"),i.qZA(),i.TgZ(46,"p",2),i.NdJ("ngModelChange",(function(e){return t.model=e})),i.qZA(),i.TgZ(47,"label"),i._uU(48,"Result:"),i.qZA(),i._UZ(49,"p",3),i.TgZ(50,"h4"),i._uU(51," formControl "),i.TgZ(52,"button",1),i.NdJ("click",(function(){return t.onToggleControlDisabled()})),i._uU(53,"Toggle disabled"),i.qZA(),i.TgZ(54,"button",1),i.NdJ("click",(function(){return t.onControlSetValue()})),i._uU(55,"Set value"),i.qZA()(),i.TgZ(56,"p")(57,"i"),i._uU(58," Tip: updateOn FormHooks also work, this example is set to "),i.TgZ(59,"code"),i._uU(60,"'blur'"),i.qZA()()(),i.TgZ(61,"label"),i._uU(62,"Write here:"),i.qZA(),i._UZ(63,"p",4),i.TgZ(64,"label"),i._uU(65,"Result:"),i.qZA(),i._UZ(66,"p",3),i.TgZ(67,"h4"),i._uU(68," formControlName "),i.TgZ(69,"button",1),i.NdJ("click",(function(){return t.onToggleNameDisabled()})),i._uU(70,"Toggle disabled"),i.qZA(),i.TgZ(71,"button",1),i.NdJ("click",(function(){return t.onNameSetValue()})),i._uU(72,"Set value"),i.qZA()(),i.TgZ(73,"p")(74,"i"),i._uU(75,"Tip: disabling parent FormGroup/FormArray also works"),i.qZA()(),i.TgZ(76,"label"),i._uU(77,"Write here:"),i.qZA(),i.TgZ(78,"form",5),i._UZ(79,"p",6),i.qZA(),i.TgZ(80,"label"),i._uU(81,"Result:"),i.qZA(),i._UZ(82,"p",3),i.qZA()),2&e&&(i.xp6(46),i.Q6J("disabled",t.disabled)("ngModel",t.model),i.xp6(3),i.Q6J("textContent",t.model),i.xp6(14),i.Q6J("formControl",t.control),i.xp6(3),i.Q6J("textContent",t.control.value),i.xp6(12),i.Q6J("formGroup",t.group),i.xp6(4),i.Q6J("textContent",t.group.value.control))},dependencies:[o._Y,o.JJ,o.JL,o.On,o.oH,o.sg,o.u,u,d.q],styles:["[contenteditable][_ngcontent-%COMP%]{box-shadow:0 0 1px}[contenteditable=false][_ngcontent-%COMP%]{background:lightgray;opacity:.8}label[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{opacity:.6}"],changeDetection:0}),e})(),h=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=i.oAB({type:e}),e.ɵinj=i.cJS({imports:[o.u5,o.UX,s,l.Bz.forChild((0,r.Ve)(g)),r.Lq]}),e})()}}]);